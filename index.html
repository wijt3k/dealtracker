<!DOCTYPE html>
<html lang="nl">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D11S1578NB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D11S1578NB');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DealTracker â€” Dagelijkse Retour & Outlet Deals op Elektronica</title>
  <meta name="description" content="Bespaar tot 70% op retour- en outletdeals van Amazon, MediaMarkt, Stekkerstore en meer. Dagelijks bijgewerkt. Laptops, audio, gaming, TV's en veel meer.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://wijt3k.github.io/dealtracker/">

  <!-- Open Graph -->
  <meta property="og:title" content="DealTracker â€” Retour & Outlet Deals">
  <meta property="og:description" content="Dagelijkse retour- en outletdeals op elektronica. Tot 70% korting.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://wijt3k.github.io/dealtracker/">
  <meta property="og:image" content="https://wijt3k.github.io/dealtracker/og-image.png">

  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "DealTracker",
    "url": "https://wijt3k.github.io/dealtracker/",
    "description": "Dagelijkse retour en outlet deals op elektronica",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://wijt3k.github.io/dealtracker/deals.html?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0f172a; --card: #1e293b; --border: #334155;
      --primary: #FF6B35; --yellow: #F7B801;
      --success: #22c55e; --text: #e2e8f0; --muted: #94a3b8;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: var(--bg); color: var(--text); font-family: 'Outfit', sans-serif; }
    a { color: inherit; text-decoration: none; }

    /* â”€â”€ NAV â”€â”€ */
    nav {
      background: rgba(15,23,42,.95); backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border); padding: .85rem 1.5rem;
      display: flex; align-items: center; gap: 1rem;
      position: sticky; top: 0; z-index: 50;
    }
    .nav-logo { background: var(--primary); color: #fff; border-radius: 8px;
      width: 36px; height: 36px; display: flex; align-items: center;
      justify-content: center; font-weight: 900; font-size: 1.1rem; flex-shrink: 0; }
    .nav-brand { font-weight: 700; font-size: 1.05rem; }
    nav .spacer { flex: 1; }
    .nav-link { color: var(--muted); font-size: .9rem; padding: .3rem .7rem;
      border-radius: 6px; transition: color .2s; }
    .nav-link:hover { color: var(--text); }
    .nav-cta { background: var(--primary); color: #fff; padding: .4rem 1rem;
      border-radius: 8px; font-weight: 600; font-size: .9rem; transition: opacity .2s; }
    .nav-cta:hover { opacity: .85; }

    /* â”€â”€ HERO â”€â”€ */
    .hero {
      padding: 5rem 1.5rem 3.5rem;
      text-align: center;
      background: radial-gradient(ellipse 80% 50% at 50% -10%, rgba(255,107,53,.18) 0%, transparent 70%);
    }
    .hero-badge {
      display: inline-flex; align-items: center; gap: .4rem;
      background: rgba(255,107,53,.15); border: 1px solid rgba(255,107,53,.3);
      color: var(--primary); border-radius: 999px; padding: .3rem .9rem;
      font-size: .8rem; font-weight: 600; margin-bottom: 1.5rem;
    }
    .hero h1 { font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 900; line-height: 1.15; margin-bottom: 1rem; }
    .hero h1 span { color: var(--primary); }
    .hero p { font-size: 1.1rem; color: var(--muted); max-width: 560px; margin: 0 auto 2rem; line-height: 1.6; }
    .hero-btns { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .btn-hero { padding: .8rem 1.8rem; border-radius: 10px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: all .2s; border: none; }
    .btn-primary { background: var(--primary); color: #fff; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(255,107,53,.35); }
    .btn-outline { background: transparent; color: var(--text); border: 1px solid var(--border); }
    .btn-outline:hover { border-color: var(--primary); color: var(--primary); }

    /* â”€â”€ STATS BAR â”€â”€ */
    .stats-bar {
      display: flex; gap: 0; justify-content: center; flex-wrap: wrap;
      border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
      background: var(--card);
    }
    .stat-item {
      flex: 1; min-width: 120px; padding: 1.2rem 1rem; text-align: center;
      border-right: 1px solid var(--border);
    }
    .stat-item:last-child { border-right: none; }
    .stat-num { font-size: 1.6rem; font-weight: 900; color: var(--primary); }
    .stat-label { font-size: .75rem; color: var(--muted); margin-top: 2px; }

    /* â”€â”€ CATEGORIES â”€â”€ */
    .section { padding: 3rem 1.5rem; max-width: 1200px; margin: 0 auto; }
    .section-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 1.5rem; }
    .section-title span { color: var(--primary); }
    .category-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem;
    }
    .cat-card {
      background: var(--card); border: 1px solid var(--border); border-radius: 12px;
      padding: 1.25rem 1rem; text-align: center; cursor: pointer;
      transition: all .2s; display: flex; flex-direction: column; align-items: center; gap: .5rem;
    }
    .cat-card:hover { border-color: var(--primary); transform: translateY(-2px); }
    .cat-icon { font-size: 2rem; }
    .cat-name { font-weight: 600; font-size: .9rem; }
    .cat-count { font-size: .75rem; color: var(--muted); }

    /* â”€â”€ FEATURED DEALS â”€â”€ */
    .deals-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem;
    }
    .deal-card {
      background: var(--card); border: 1px solid var(--border); border-radius: 12px;
      overflow: hidden; transition: all .2s; display: flex; flex-direction: column;
    }
    .deal-card:hover { border-color: var(--primary); transform: translateY(-2px); }
    .deal-img { width: 100%; height: 140px; object-fit: contain; background: #0f172a; padding: .5rem; }
    .deal-img-placeholder { width: 100%; height: 100px; display: flex; align-items: center; justify-content: center; font-size: 3rem; background: rgba(255,107,53,.06); }
    .deal-body { padding: .9rem; flex: 1; display: flex; flex-direction: column; }
    .deal-source { font-size: .7rem; font-weight: 600; color: var(--muted); text-transform: uppercase; letter-spacing: .05em; margin-bottom: .3rem; }
    .deal-title { font-size: .875rem; font-weight: 600; line-height: 1.4; margin-bottom: .6rem; flex: 1;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .deal-price-row { display: flex; align-items: center; gap: .6rem; margin-bottom: .75rem; }
    .price-now { font-size: 1.15rem; font-weight: 800; }
    .price-was { font-size: .8rem; color: var(--muted); text-decoration: line-through; }
    .discount { background: var(--success); color: #fff; border-radius: 4px; padding: .1rem .4rem; font-size: .75rem; font-weight: 700; }
    .deal-btn { display: block; background: var(--primary); color: #fff; text-align: center;
      padding: .5rem; border-radius: 8px; font-weight: 600; font-size: .875rem;
      transition: opacity .2s; margin-top: auto; }
    .deal-btn:hover { opacity: .85; }

    /* â”€â”€ SOURCES â”€â”€ */
    .sources-grid { display: flex; gap: 1rem; flex-wrap: wrap; }
    .source-pill {
      background: var(--card); border: 1px solid var(--border); border-radius: 10px;
      padding: .6rem 1.1rem; font-size: .875rem; font-weight: 600;
      display: flex; align-items: center; gap: .5rem;
    }

    /* â”€â”€ HOW IT WORKS â”€â”€ */
    .steps { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1rem; }
    .step { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; }
    .step-num { background: rgba(255,107,53,.15); color: var(--primary); border-radius: 8px;
      width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
      font-weight: 900; margin-bottom: .75rem; }
    .step h3 { font-size: 1rem; font-weight: 700; margin-bottom: .4rem; }
    .step p { font-size: .85rem; color: var(--muted); line-height: 1.5; }

    /* â”€â”€ CTA BANNER â”€â”€ */
    .cta-banner {
      background: linear-gradient(135deg, rgba(255,107,53,.15) 0%, rgba(247,184,1,.1) 100%);
      border: 1px solid rgba(255,107,53,.25); border-radius: 16px;
      padding: 2.5rem; text-align: center; margin: 0 1.5rem 3rem;
    }
    .cta-banner h2 { font-size: 1.6rem; font-weight: 800; margin-bottom: .5rem; }
    .cta-banner p { color: var(--muted); margin-bottom: 1.5rem; }

    /* â”€â”€ FOOTER â”€â”€ */
    footer { border-top: 1px solid var(--border); padding: 2rem 1.5rem; text-align: center; color: var(--muted); font-size: .85rem; }
    footer a { color: var(--muted); text-decoration: underline; }

    /* â”€â”€ LOADING â”€â”€ */
    .skeleton { background: linear-gradient(90deg, var(--card) 25%, #273348 50%, var(--card) 75%);
      background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 8px; }
    @keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

    @media(max-width:600px) {
      .hero { padding: 3rem 1rem 2rem; }
      .section { padding: 2rem 1rem; }
      .stats-bar { flex-direction: row; flex-wrap: wrap; }
      .stat-item { min-width: 100px; }
      nav .nav-link { display: none; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-logo">D</div>
  <span class="nav-brand">DealTracker</span>
  <div class="spacer"></div>
  <a class="nav-link" href="deals.html">Alle deals</a>
  <a class="nav-link" href="deals.html?categorie=laptops">Laptops</a>
  <a class="nav-link" href="deals.html?categorie=audio">Audio</a>
  <a class="nav-cta" href="deals.html">Bekijk deals â†’</a>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-badge">ğŸ”¥ Dagelijks bijgewerkt</div>
  <h1>De beste <span>retour- &amp; outletdeals</span><br>op elektronica</h1>
  <p>Wij verzamelen dagelijks de beste deals van Amazon RetourDeals, MediaMarkt Outlet, Breezy Returns en Stekkerstore â€” zodat jij nooit een koopje mist.</p>
  <div class="hero-btns">
    <a class="btn-hero btn-primary" href="deals.html">ğŸ›ï¸ Bekijk alle deals</a>
    <a class="btn-hero btn-outline" href="#categorieen">CategorieÃ«n â†’</a>
  </div>
</section>

<!-- STATS BAR -->
<div class="stats-bar">
  <div class="stat-item"><div class="stat-num" id="stat-deals">â€”</div><div class="stat-label">Actieve deals</div></div>
  <div class="stat-item"><div class="stat-num" id="stat-korting">â€”</div><div class="stat-label">Gemiddelde korting</div></div>
  <div class="stat-item"><div class="stat-num" id="stat-bronnen">4</div><div class="stat-label">Winkels gemonitord</div></div>
  <div class="stat-item"><div class="stat-num" id="stat-updated">â€”</div><div class="stat-label">Laatste update</div></div>
</div>

<!-- CATEGORIES -->
<section class="section" id="categorieen">
  <h2 class="section-title">Zoek op <span>categorie</span></h2>
  <div class="category-grid" id="category-grid">
    <!-- filled by JS -->
  </div>
</section>

<!-- FEATURED DEALS -->
<section class="section">
  <h2 class="section-title">ğŸ† <span>Top deals</span> van vandaag</h2>
  <div class="deals-grid" id="featured-grid">
    <!-- filled by JS -->
  </div>
  <div style="text-align:center; margin-top:2rem;">
    <a class="btn-hero btn-primary" href="deals.html">Bekijk alle deals â†’</a>
  </div>
</section>

<!-- SOURCES -->
<section class="section">
  <h2 class="section-title">ğŸ“¦ <span>Onze bronnen</span></h2>
  <div class="sources-grid">
    <div class="source-pill">ğŸ“¦ Amazon RetourDeals</div>
    <div class="source-pill">ğŸ“¦ Breezy Returns</div>
    <div class="source-pill">ğŸ”´ MediaMarkt Outlet</div>
    <div class="source-pill">ğŸ”Œ Stekkerstore</div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="section">
  <h2 class="section-title">âš™ï¸ Hoe het <span>werkt</span></h2>
  <div class="steps">
    <div class="step"><div class="step-num">1</div><h3>Automatisch scrapen</h3><p>Elke dag scrapen we meerdere retour- en outletwinkels op nieuwe deals.</p></div>
    <div class="step"><div class="step-num">2</div><h3>Beoordeling</h3><p>Deals worden handmatig gecheckt op kwaliteit en prijs voor publicatie.</p></div>
    <div class="step"><div class="step-num">3</div><h3>Prijsgeschiedenis</h3><p>We houden bij hoe de prijs over tijd verandert, zodat je weet of het echt een deal is.</p></div>
    <div class="step"><div class="step-num">4</div><h3>Jij bespaart</h3><p>Klik door naar de winkel en bestel â€” geen account nodig op DealTracker.</p></div>
  </div>
</section>

<!-- CTA -->
<div class="cta-banner">
  <h2>Klaar om te besparen?</h2>
  <p>Bekijk alle actuele retour- en outletdeals â€” dagelijks bijgewerkt.</p>
  <a class="btn-hero btn-primary" href="deals.html">ğŸ›ï¸ Bekijk alle deals</a>
</div>

<!-- FOOTER -->
<footer>
  <p>Â© 2025 DealTracker &nbsp;Â·&nbsp; <a href="deals.html">Alle deals</a> &nbsp;Â·&nbsp;
  <a href="deals.html?categorie=laptops">Laptops</a> &nbsp;Â·&nbsp;
  <a href="deals.html?categorie=audio">Audio</a> &nbsp;Â·&nbsp;
  <a href="deals.html?categorie=gaming">Gaming</a> &nbsp;Â·&nbsp;
  <a href="deals.html?categorie=tv">TV's</a></p>
  <p style="margin-top:.5rem; font-size:.75rem;">Prijzen en beschikbaarheid kunnen afwijken. DealTracker is een onafhankelijke vergelijkingssite.</p>
</footer>

<script>
const CATEGORIES = [
  { slug: 'laptops',     icon: 'ğŸ’»', name: 'Laptops' },
  { slug: 'smartphones', icon: 'ğŸ“±', name: 'Smartphones' },
  { slug: 'audio',       icon: 'ğŸ§', name: 'Audio' },
  { slug: 'gaming',      icon: 'ğŸ®', name: 'Gaming' },
  { slug: 'tv',          icon: 'ğŸ“º', name: "TV's" },
  { slug: 'tablets',     icon: 'ğŸ“Ÿ', name: 'Tablets' },
  { slug: 'wearables',   icon: 'âŒš', name: 'Wearables' },
  { slug: 'camera',      icon: 'ğŸ“·', name: 'Camera\'s' },
  { slug: 'huishouden',  icon: 'ğŸ ', name: 'Huishouden' },
  { slug: 'elektronica', icon: 'âš¡', name: 'Elektronica' },
];

function dealScore(d) {
  const k = d.discount_percent || 0;
  const besparing = d.original_price && d.price ? Math.min(d.original_price - d.price, 400) : 0;
  return k * 0.6 + (besparing / 400) * 40;
}

function timeAgo(isoStr) {
  try {
    const diff = (Date.now() - new Date(isoStr).getTime()) / 1000;
    if (diff < 3600) return Math.round(diff / 60) + ' min geleden';
    if (diff < 86400) return Math.round(diff / 3600) + ' uur geleden';
    return Math.round(diff / 86400) + ' dagen geleden';
  } catch { return ''; }
}

async function init() {
  let deals = [];
  try {
    const res = await fetch('deals.json?t=' + Date.now());
    const data = await res.json();
    deals = data.deals || [];
  } catch(e) {
    console.warn('deals.json laden mislukt', e);
  }

  // â”€â”€ Stats â”€â”€
  document.getElementById('stat-deals').textContent = deals.length;
  if (deals.length) {
    const avgK = Math.round(deals.reduce((s, d) => s + (d.discount_percent || 0), 0) / deals.length);
    document.getElementById('stat-korting').textContent = avgK + '%';
  }
  // Last updated
  try {
    const res2 = await fetch('deals.json?t=' + Date.now());
    const data2 = await res2.json();
    if (data2.updated_at) {
      document.getElementById('stat-updated').textContent = timeAgo(data2.updated_at);
    }
  } catch {}

  // â”€â”€ Categories â”€â”€
  const counts = {};
  deals.forEach(d => { const c = d.category || 'elektronica'; counts[c] = (counts[c] || 0) + 1; });
  const grid = document.getElementById('category-grid');
  grid.innerHTML = CATEGORIES.map(c => `
    <a href="deals.html?categorie=${c.slug}" class="cat-card">
      <span class="cat-icon">${c.icon}</span>
      <span class="cat-name">${c.name}</span>
      <span class="cat-count">${counts[c.slug] || 0} deals</span>
    </a>`).join('');

  // â”€â”€ Featured deals (top 6 by score) â”€â”€
  const top6 = [...deals].sort((a, b) => dealScore(b) - dealScore(a)).slice(0, 6);
  const fg = document.getElementById('featured-grid');
  fg.innerHTML = top6.map(d => {
    const disc = d.discount_percent || 0;
    const url  = encodeURIComponent(d.url || '');
    return `
    <div class="deal-card" onclick="window.open(decodeURIComponent('${url}'), '_blank')">
      ${d.image
        ? `<img class="deal-img" src="${d.image}" alt="${(d.title||'').substring(0,60)}" loading="lazy" onerror="this.style.display='none'">`
        : `<div class="deal-img-placeholder">${d.category === 'audio' ? 'ğŸ§' : d.category === 'laptops' ? 'ğŸ’»' : 'âš¡'}</div>`}
      <div class="deal-body">
        <div class="deal-source">${d.source || ''}</div>
        <div class="deal-title">${d.title || ''}</div>
        <div class="deal-price-row">
          <span class="price-now">â‚¬${(d.price || 0).toFixed(2)}</span>
          ${d.original_price ? `<span class="price-was">â‚¬${d.original_price.toFixed(0)}</span>` : ''}
          ${disc > 0 ? `<span class="discount">-${disc}%</span>` : ''}
        </div>
        <a class="deal-btn" href="${d.url || '#'}" target="_blank" rel="nofollow noopener" onclick="event.stopPropagation()">Bekijk deal â†’</a>
      </div>
    </div>`;
  }).join('');
}

init();
</script>
</body>
</html>
